<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>search with the Geocoding API</title>
    <link rel="shortcut icon" type="x-icon" href="/Images/indexMain/logo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v2.9.2/mapbox-gl.js"></script>
    <link
      href="https://api.tiles.mapbox.com/mapbox-gl-js/v2.9.2/mapbox-gl.css"
      rel="stylesheet"
    />
    <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.0/mapbox-gl-geocoder.min.js"></script>
    <link
      rel="stylesheet"
      href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.0/mapbox-gl-geocoder.css"
      type="text/css"
    />
  </head>
  <link rel="stylesheet" href="/CSS/map.css" />
  <body>
    <div class="body">
      <div class="main">
        <div style="margin-right: 45px" class="first">
          <div class="img">
            <img src="https://etimg.etb2bimg.com/photo/75161189.cms" alt="" />
          </div>
          <div class="box_title_container">
            <h2 class="box_title">Agashiye</h2>
            <div class="rating">
              <h2 class="rating-num">
                4.1
                <img
                  class="rating-img"
                  style="width: 20px"
                  src="/Images/indexMain/rating.webp"
                  alt=""
                />
                36 min
              </h2>
            </div>
            <p class="rating-para">Rastaurants</p>
            <p class="rating-para">Ahmedabad</p>
          </div>
        </div>

        <div style="margin-left: 0px" class="first">
          <div class="img">
            <img
              src="https://images.pexels.com/photos/1307698/pexels-photo-1307698.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"
              alt=""
            />
          </div>
          <div class="box_title_container">
            <h2 class="box_title">The Green House</h2>
            <div class="rating">
              <h2 class="rating-num">
                4.1
                <img
                  class="rating-img"
                  style="width: 20px"
                  src="/Images/indexMain/rating.webp"
                  alt=""
                />
                36 min
              </h2>
            </div>
            <p class="rating-para">Rastaurants</p>
            <p class="rating-para">Ahmedabad</p>
          </div>
        </div>

        <div style="margin-right: 40px" class="first">
          <div class="img">
            <img
              src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSvlP1IYpD9XVPBzxa-3cs85mBM1GFahPZ4Yw&usqp=CAU"
              alt=""
            />
          </div>
          <div class="box_title_container">
            <h2 class="box_title">Swati Snacks</h2>
            <div class="rating">
              <h2 class="rating-num">
                4.1
                <img
                  class="rating-img"
                  style="width: 20px"
                  src="/Images/indexMain/rating.webp"
                  alt=""
                />
                36 min
              </h2>
            </div>
            <p class="rating-para">Rastaurants</p>
            <p class="rating-para">Ahmedabad</p>
          </div>
        </div>

        <div style="margin-right: 30px" class="first">
          <div class="img">
            <img
              src="https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1d/30/54/b2/bidri-ambience.jpg?w=1200&h=-1&s=1"
              alt=""
            />
          </div>
          <div class="box_title_container">
            <h2 class="box_title">Gordhan Thal</h2>
            <div class="rating">
              <h2 class="rating-num">
                4.1
                <img
                  class="rating-img"
                  style="width: 20px"
                  src="/Images/indexMain/rating.webp"
                  alt=""
                />
                36 min
              </h2>
            </div>
            <p class="rating-para">Rastaurants</p>
            <p class="rating-para">Ahmedabad</p>
          </div>
        </div>

        <div class="first">
          <div class="img">
            <img
              src="https://media.istockphoto.com/id/1198045184/photo/fine-dining-at-lunch.jpg?s=612x612&w=0&k=20&c=LS4QPJuFjbj1IveVKyV0NWC-BlabgyxFTy-dCCoJ35w="
              alt=""
            />
          </div>
          <div class="box_title_container">
            <h2 class="box_title">Toran Dining Hall</h2>
            <div class="rating">
              <h2 class="rating-num">
                4.1
                <img
                  class="rating-img"
                  style="width: 20px"
                  src="/Images/indexMain/rating.webp"
                  alt=""
                />
                36 min
              </h2>
            </div>
            <p class="rating-para">Rastaurants</p>
            <p class="rating-para">Ahmedabad</p>
          </div>
        </div>
      </div>
      <div class="container">
        <div id="map"></div>
      </div>
    </div>

    <script>
      mapboxgl.accessToken =
        "pk.eyJ1IjoiaGl0ZXNoMTAwIiwiYSI6ImNsN2FmODk3MzB0NGQzdm4wN3g0djBxeWEifQ.MwRXE-jIvxzS3Wlzt_tPSg";
      const map = new mapboxgl.Map({
        container: "map",
        style: "mapbox://styles/mapbox/streets-v11",
        center: [72.6369, 23.2156], // Gandhinagar, India coordinates
        zoom: 12,
      });

      const marker = new mapboxgl.Marker()
        .setLngLat([72.6369, 23.2156]) // Gandhinagar, India coordinates
        .addTo(map);

      const geocoder = new MapboxGeocoder({
        accessToken: mapboxgl.accessToken,
        mapboxgl: mapboxgl,
        marker: false,
        placeholder: "Search for places in Gandhinagar", // Adjusted placeholder text
        bbox: [72.5755, 23.114, 72.7297, 23.2986], // Bounding box around Gandhinagar
        proximity: {
          longitude: 72.6369, // Gandhinagar, India coordinates
          latitude: 23.2156,
        },
      });

      map.addControl(geocoder);

      map.on("load", () => {
        map.addSource("single-point", {
          type: "geojson",
          data: {
            type: "FeatureCollection",
            features: [],
          },
        });

        map.addLayer({
          id: "point",
          source: "single-point",
          type: "circle",
          paint: {
            "circle-radius": 10,
            "circle-color": "#448ee4",
          },
        });

        geocoder.on("result", (event) => {
          map.getSource("single-point").setData(event.result.geometry);
        });
      });
    </script>
  </body>
</html>
